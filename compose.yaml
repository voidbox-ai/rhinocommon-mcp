services:
  scraper:
    build:
      context: .
      dockerfile: Dockerfile
      target: scraper
    container_name: rhinocommon-scraper
    volumes:
      - ./docs:/app/docs
      - ./scraper:/app/scraper
    stdin_open: true
    tty: true
    environment:
      - RHINO_VERSION=8
      - OUTPUT_DIR=/app/docs

  server:
    build:
      context: .
      dockerfile: Dockerfile
      target: server
    container_name: rhinocommon-mcp-server
    volumes:
      - ./docs:/app/docs:ro
      - ./server:/app/server
    stdin_open: true
    tty: true